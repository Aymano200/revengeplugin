(function(s,i,f,a,d,g,h){"use strict";const u="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function p(e){return[...crypto.getRandomValues(new Uint8Array(e)).map(function(n){return n%u.length})].map(function(n){return u.charAt(n)}).join("")}const{FormInput:y}=g.Forms;function L(){return h.useProxy(a.storage),React.createElement(d.ReactNative.ScrollView,null,React.createElement(y,{title:"FILENAME LENGTH",keyboardType:"numeric",placeholder:"8",value:a.storage.nameLength.toString(),onChange:function(e){return a.storage.nameLength=e.replace(/[^0-9]/g,"")}}))}a.storage.nameLength??=8;function l(e,n){const t=e?.file??e;if(!t)return;const o=t.filename??t.name;if(typeof o!="string"||o.length===n+(o.lastIndexOf(".")>-1?o.length-o.lastIndexOf("."):0))return;const r=o.lastIndexOf("."),v=r!==-1?o.slice(r):"",m=p(n)+v;typeof t.filename<"u"&&(t.filename=m),typeof t.name<"u"&&(t.name=m)}const c=[];try{const e=i.findByProps("uploadLocalFiles");e&&c.push(f.before("uploadLocalFiles",e,function(n){const t=n[0]?.items??n[0]?.files??n[0]?.uploads;if(!Array.isArray(t))return;const o=isNaN(parseInt(a.storage.nameLength))?8:parseInt(a.storage.nameLength);for(const r of t)l(r,o)}))}catch{}try{const e=i.findByProps("CloudUpload");e&&c.push(f.before("CloudUpload",e,function(n){const t=n[0];if(!t)return;const o=isNaN(parseInt(a.storage.nameLength))?8:parseInt(a.storage.nameLength);l(t,o)}))}catch{}const I=function(){for(const e of c)e()};return s.onUnload=I,s.settings=L,s})({},vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
